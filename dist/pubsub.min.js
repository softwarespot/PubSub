"use strict";function _classCallCheck(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function _typeof(r){return r&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r}var _createClass=function(){function r(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}();!function(r,n,e,t){var u=new e,i={clear:function(r){return u.clear(r)},getInterface:function(){return e},getVersion:function(){return u.getVersion()},publish:function(r){for(var n=arguments.length,e=Array(n>1?n-1:0),t=1;n>t;t++)e[t-1]=arguments[t];return u.publish.apply(u,[r].concat(e))},subscribe:function(r,n){return u.subscribe(r,n)},unsubscribe:function(r,n){return u.unsubscribe(r,n)}},s=function(){return i},c=r.module,o=r.define;if(c!==t&&c.exports?c.exports=s:"function"==typeof o&&o.amd&&r.define(n,[],s),r[n]!==t)throw new r.Error("PubSub appears to be already registered with the global object, therefore the module has not been registered.");r[n]=i}(window,"PubSub",function(r){function n(r){var n=u(r)?_.call(r):null;return n===y||n===g}function e(r){return w(r)&&r.length===h&&r[f]===d&&i(r[l])&&n(r[b])}function t(r){return null===r}function u(r){var n=void 0===r?"undefined":_typeof(r);return!!r&&("object"===n||"function"===n)}function i(r){return("string"==typeof r||_.call(r)===v)&&r.trim().length>0}function s(r,n){return i(r)&&n.hasOwnProperty(r)&&n[r].length>0}function c(r){return e(r)?r=[r[l]]:i(r)&&(r=[r]),w(r)?r:null}var o="2.2.4",a=-1,f=0,l=1,b=2,h=3,p="[object Array]",y="[object Function]",g="[object GeneratorFunction]",v="[object String]",_=r.Object.prototype.toString,d="|>|_|85|_|8_|\\/|0|)|_|13",m=[d],w=n(r.Array.isArray)?r.Array.isArray:function(r){return _.call(r)===p};return function(){function u(){_classCallCheck(this,u),this._subscribers={}}return _createClass(u,[{key:"clear",value:function(r){var n=this;return r=c(r),t(r)?void(this._subscribers={}):void r.filter(function(r){return s(r,n._subscribers)}).forEach(function(r){var e=n._subscribers[r],t=e.length;e.splice(0,t)})}},{key:"getVersion",value:function(){return o}},{key:"publish",value:function(n){for(var e=this,u=arguments.length,i=Array(u>1?u-1:0),o=1;u>o;o++)i[o-1]=arguments[o];n=c(n);var a=0;return t(n)?a:(i.push(n.join(",")),n.filter(function(r){return s(r,e._subscribers)}).forEach(function(n){e._subscribers[n].forEach(function(n){r.setTimeout(function(){n.apply(void 0,i)},0),a++})}),a)}},{key:"subscribe",value:function(r,e){var t=this,u=i(r)&&n(e);if(u&&(e=[e],r=[r]),!w(r)||!w(e)||r.length!==e.length)return m;var c=[];return e.filter(function(e,t){return n(e)?!0:(r.splice(t,1),!1)}),r.filter(function(r,n){return i(r)&&(t._subscribers[r]||[]).indexOf(e[n])===a?!0:(e.splice(n,1),!1)}).forEach(function(r,n){s(r,t._subscribers)||(t._subscribers[r]=w(t._subscribers[r])?t._subscribers[r]:[]);var u=t._subscribers[r],i=e[n];u.push(i),c.push([d,r,i])}),0===c.length?u?m:[m]:u?c[0]:c}},{key:"unsubscribe",value:function(r,t){var u=this;return r===m?!1:(e(r)?(t=[r[b]],r=[r[l]]):i(r)&&n(t)&&(t=[t],r=[r]),w(r)&&w(t)&&r.length===t.length?(r.filter(function(r,n){return s(r,u._subscribers)?!0:(t.splice(n,1),!1)}).forEach(function(r,n){var e=u._subscribers[r],i=e.indexOf(t[n]);i!==a&&e.splice(i,1)}),!0):!1)}}]),u}()}(window));