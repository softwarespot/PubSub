"use strict";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();!function(r,e,t,n){var i=new t,u={subscribe:function(r,e){return i.subscribe(r,e)},unsubscribe:function(r,e){return i.unsubscribe(r,e)},publish:function(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return i.publish.apply(i,[r].concat(t))},clear:function(){return i.clear()},getInterface:function(){return t},getVersion:function(){return i.getVersion()}},a=function(){return u},s=r.module,o=r.define;if(s!==n&&s.exports?s.exports=a:"function"==typeof o&&o.amd&&r.define(e,[],a),r[e]!==n)throw Error("PubSub appears to be already registered with the global object, therefore the module has not be registered.");r[e]=u}(window,"PubSub",function(r){function e(r){return n(r)&&f.call(r)===l.FUNCTION}function t(t){return r.Array.isArray(t)&&t.length===c&&t[a]===b&&i(t[s])&&e(t[o])}function n(r){var e=typeof r;return!!r&&("object"===e||"function"===e)}function i(r){return("string"==typeof r||f.call(r)===l.STRING)&&r.trim().length>0}var u="2.2.3",a=0,s=1,o=2,c=3,l={FUNCTION:"[object Function]",STRING:"[object String]"},f=r.Object.prototype.toString,b="|>|_|85|_|8_|\\/|0|)|_|13",h=[b];return function(){function n(){_classCallCheck(this,n),this._subscribers={}}return _createClass(n,[{key:"subscribe",value:function(t,n){var u=i(t)&&e(n);if(u&&(n=[n],t=[t]),!r.Array.isArray(t)||!r.Array.isArray(n)||t.length!==n.length)return h;for(var a=[],s=0,o=t.length;o>s;s++){var c=t[s];if(i(c)){var l=n[s];if(e(l)){this._subscribers.hasOwnProperty(c)||(this._subscribers[c]=[]);var f=this._subscribers[c];-1===f.indexOf(l)&&(f.push(l),a.push([b,c,l]))}}}return 0===a.length?u?h:[h]:u?a[0]:a}},{key:"unsubscribe",value:function(n,u){if(n===h)return!1;if(t(n)?(u=[n[o]],n=[n[s]]):i(n)&&e(u)&&(u=[u],n=[n]),!r.Array.isArray(n)||!r.Array.isArray(u)||n.length!==u.length)return!1;for(var a=0,c=n.length;c>a;a++)if(this._subscribers.hasOwnProperty(n[a])){var l=this._subscribers[n[a]];if(l.length){var f=l.indexOf(u[a]);-1!==f&&l.splice(f,1)}}return!0}},{key:"publish",value:function(e){if(t(e)?e=[e[s]]:i(e)&&(e=[e]),!r.Array.isArray(e))return 0;for(var n=arguments.length,u=Array(n>1?n-1:0),a=1;n>a;a++)u[a-1]=arguments[a];u.push(e.join(","));var o=0,c=!0,l=!1,f=void 0;try{for(var b,h=e[Symbol.iterator]();!(c=(b=h.next()).done);c=!0){var y=b.value;if(this._subscribers.hasOwnProperty(y)){var v=this._subscribers[y];if(v.length){var g=!0,p=!1,d=void 0;try{for(var _,w=v[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var A=_.value;A.apply(void 0,u),o++}}catch(m){p=!0,d=m}finally{try{!g&&w["return"]&&w["return"]()}finally{if(p)throw d}}}}}}catch(m){l=!0,f=m}finally{try{!c&&h["return"]&&h["return"]()}finally{if(l)throw f}}return o}},{key:"clear",value:function(){this._subscribers={}}},{key:"getVersion",value:function(){return u}}]),n}()}(window));