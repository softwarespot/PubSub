"use strict";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();!function(r,e,t,n){var i=new t,u={subscribe:function(r,e){return i.subscribe(r,e)},unsubscribe:function(r,e){return i.unsubscribe(r,e)},publish:function(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return i.publish.apply(i,[r].concat(t))},clear:function(){return i.clear()},getInterface:function(){return t},getVersion:function(){return i.getVersion()}},a=function(){return u},s=r.module,o=r.define;if(s!==n&&s.exports?s.exports=a:"function"==typeof o&&o.amd&&r.define(e,[],a),r[e]!==n)throw Error("PubSub appears to be already registered with the global object, therefore the module has not been registered.");r[e]=u}(window,"PubSub",function(r){function e(r){var e=n(r)?f.call(r):"";return e===l.FUNCTION||e===l.GENERATOR}function t(r){return v(r)&&r.length===c&&r[a]===b&&i(r[s])&&e(r[o])}function n(r){var e=typeof r;return!!r&&("object"===e||"function"===e)}function i(r){return("string"==typeof r||f.call(r)===l.STRING)&&r.trim().length>0}var u="2.2.3",a=0,s=1,o=2,c=3,l={FUNCTION:"[object Function]",GENERATOR:"[object GeneratorFunction]",STRING:"[object String]"},f=r.Object.prototype.toString,b="|>|_|85|_|8_|\\/|0|)|_|13",h=[b],v=r.Array.isArray;return function(){function r(){_classCallCheck(this,r),this._subscribers={}}return _createClass(r,[{key:"subscribe",value:function(r,t){var n=i(r)&&e(t);if(n&&(t=[t],r=[r]),!v(r)||!v(t)||r.length!==t.length)return h;for(var u=[],a=0,s=r.length;s>a;a++){var o=r[a];if(i(o)){var c=t[a];if(e(c)){this._subscribers.hasOwnProperty(o)||(this._subscribers[o]=[]);var l=this._subscribers[o];-1===l.indexOf(c)&&(l.push(c),u.push([b,o,c]))}}}return 0===u.length?n?h:[h]:n?u[0]:u}},{key:"unsubscribe",value:function(r,n){if(r===h)return!1;if(t(r)?(n=[r[o]],r=[r[s]]):i(r)&&e(n)&&(n=[n],r=[r]),!v(r)||!v(n)||r.length!==n.length)return!1;for(var u=0,a=r.length;a>u;u++)if(this._subscribers.hasOwnProperty(r[u])){var c=this._subscribers[r[u]];if(c.length){var l=c.indexOf(n[u]);-1!==l&&c.splice(l,1)}}return!0}},{key:"publish",value:function(r){t(r)?r=[r[s]]:i(r)&&(r=[r]);var e=0;if(!v(r))return e;for(var n=arguments.length,u=Array(n>1?n-1:0),a=1;n>a;a++)u[a-1]=arguments[a];u.push(r.join(","));var o=!0,c=!1,l=void 0;try{for(var f,b=r[Symbol.iterator]();!(o=(f=b.next()).done);o=!0){var h=f.value;if(this._subscribers.hasOwnProperty(h)){var y=this._subscribers[h];if(y.length){var g=!0,p=!1,d=void 0;try{for(var _,w=y[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var m=_.value;m.apply(void 0,u),e++}}catch(O){p=!0,d=O}finally{try{!g&&w["return"]&&w["return"]()}finally{if(p)throw d}}}}}}catch(O){c=!0,l=O}finally{try{!o&&b["return"]&&b["return"]()}finally{if(c)throw l}}return e}},{key:"clear",value:function(){this._subscribers={}}},{key:"getVersion",value:function(){return u}}]),r}()}(window));