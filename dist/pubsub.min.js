"use strict";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function r(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();!function(r,e,n){var t=new n,i={subscribe:function(r,e){return t.subscribe(r,e)},unsubscribe:function(r,e){return t.unsubscribe(r,e)},publish:function(r){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];return t.publish.apply(t,[r].concat(n))},clear:function(){return t.clear()},getInterface:function(){return n},getVersion:function(){return t.getVersion()}},u=function(){return i},s=r.module,a=r.define;if(void 0!==s&&s.exports?s.exports=u:"function"==typeof a&&a.amd&&r.define(e,[],u),void 0!==r[e])throw"PubSub appears to be already registered on the global object, therefore the module has not be registered.";r[e]=i}(window,"PubSub",function(r){function e(r){return t(r)&&l.call(r)===f.FUNCTION}function n(n){return r.Array.isArray(n)&&n.length===c&&n[s]===b&&i(n[a])&&e(n[o])}function t(r){var e=typeof r;return!!r&&("object"===e||"function"===e)}function i(r){return("string"==typeof r||l.call(r)===f.STRING)&&r.trim().length>0}var u="1.2.0",s=0,a=1,o=2,c=3,f={FUNCTION:"[object Function]",STRING:"[object String]"},l=r.Object.prototype.toString,b="|>|_|85|_|8_|\\/|0|)|_|13",h=[b];return function(){function t(){_classCallCheck(this,t),this._subscribers={}}return _createClass(t,[{key:"subscribe",value:function(n,t){var u=i(n)&&e(t);if(u&&(t=[t],n=[n]),!r.Array.isArray(n)||!r.Array.isArray(t)||n.length!==t.length)return h;for(var s=[],a=0,o=n.length;o>a;a++){var c=n[a];if(i(c)){var f=t[a];if(e(f)){this._subscribers[c]=this._subscribers[c]||[];var l=this._subscribers[c];-1===l.indexOf(f)&&(l.push(f),s.push([b,c,f]))}}}return 0===s.length?u?h:[h]:u?s[0]:s}},{key:"unsubscribe",value:function(t,u){if(t===h)return!1;if(n(t)?(u=[t[o]],t=[t[a]]):i(t)&&e(u)&&(u=[u],t=[t]),!r.Array.isArray(t)||!r.Array.isArray(u)||t.length!==u.length)return!1;for(var s=0,c=t.length;c>s;s++){var f=this._subscribers[t[s]];if(f){var l=f.indexOf(u[s]);-1!==l&&f.splice(l,1)}}return!0}},{key:"publish",value:function(e){if(n(e)?e=[e[a]]:i(e)&&(e=[e]),!r.Array.isArray(e))return 0;for(var t=arguments.length,u=Array(t>1?t-1:0),s=1;t>s;s++)u[s-1]=arguments[s];u.push(e.join(","));for(var o=0,c=0,f=e.length;f>c;c++){var l=this._subscribers[e[c]];if(l)for(var b=0,h=l.length;h>b;b++)l[b].apply(l,u),o++}return o}},{key:"clear",value:function(){this._subscribers={}}},{key:"getVersion",value:function(){return u}}]),t}()}(window));