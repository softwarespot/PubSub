"use strict";function _classCallCheck(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function r(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}();!function(r,n){var e="1.1.0",t=new n,i={subscribe:function(r,n){return t.subscribe(r,n)},unsubscribe:function(r,n){return t.unsubscribe(r,n)},publish:function(r){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;n>i;i++)e[i-1]=arguments[i];return t.publish.apply(t,[r].concat(e))},clear:function(){return t.clear()},getInterface:function(){return n},getVersion:function(){return e}},u=r.module,s=r.define;r.PubSub=i(),void 0!==u&&u.exports&&void 0===r?u.exports=i:void 0!==u&&u.exports&&void 0!==r?u.exports=i:"function"==typeof s&&s.amd&&r.define("PubSub",[],i)}(void 0,function(r){function n(r){return t(r)&&f.call(r)===o.FUNCTION}function e(e){return r.Array.isArray(e)&&e.length===c&&e[u]===l&&i(e[s])&&n(e[a])}function t(r){var n=typeof r;return!!r&&("object"===n||"function"===n)}function i(r){return("string"==typeof r||f.call(r)===o.STRING)&&r.trim().length>0}var u=0,s=1,a=2,c=3,o={FUNCTION:"[object Function]",STRING:"[object String]"},f=r.Object.prototype.toString,l="|>|_|85|_|8_|\\/|0|)|_|13",b=[l];return function(){function t(){_classCallCheck(this,t),this._subscribers={}}return _createClass(t,[{key:"subscribe",value:function(e,t){var u=i(e)&&n(t);if(u&&(t=[t],e=[e]),!r.Array.isArray(e)||!r.Array.isArray(t)||e.length!==t.length)return b;for(var s=[],a=0,c=e.length;c>a;a++){var o=e[a];if(i(o)){var f=t[a];if(n(f)){this._subscribers[o]=this._subscribers[o]||[];var h=this._subscribers[o];-1===h.indexOf(f)&&(h.push(f),s.push([l,o,f]))}}}return 0===s.length?u?b:[b]:u?s[0]:s}},{key:"unsubscribe",value:function(t,u){if(t===b)return!1;if(e(t)?(u=[t[a]],t=[t[s]]):i(t)&&n(u)&&(u=[u],t=[t]),!r.Array.isArray(t)||!r.Array.isArray(u)||t.length!==u.length)return!1;for(var c=0,o=t.length;o>c;c++){var f=this._subscribers[t[c]];if(f){var l=f.indexOf(u[c]);-1!==l&&f.splice(l,1)}}return!0}},{key:"publish",value:function(n){if(e(n)?n=[n[s]]:i(n)&&(n=[n]),!r.Array.isArray(n))return 0;for(var t=arguments.length,u=Array(t>1?t-1:0),a=1;t>a;a++)u[a-1]=arguments[a];u.push(n.join(","));for(var c=0,o=0,f=n.length;f>o;o++){var l=this._subscribers[n[o]];if(l)for(var b=0,h=l.length;h>b;b++)l[b].apply(l,u),c++}return c}},{key:"clear",value:function(){this._subscribers={}}}]),t}()}(void 0));