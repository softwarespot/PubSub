"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(r){return r&&r.constructor===Symbol?"symbol":typeof r}var _createClass=function(){function r(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();!function(r,e,n,t){var u=new n,i={clear:function(){return u.clear()},getInterface:function(){return n},getVersion:function(){return u.getVersion()},publish:function(r){for(var e=arguments.length,n=Array(e>1?e-1:0),t=1;e>t;t++)n[t-1]=arguments[t];return u.publish.apply(u,[r].concat(n))},subscribe:function(r,e){return u.subscribe(r,e)},unsubscribe:function(r,e){return u.unsubscribe(r,e)}},o=function(){return i},a=r.module,s=r.define;if(a!==t&&a.exports?a.exports=o:"function"==typeof s&&s.amd&&r.define(e,[],o),r[e]!==t)throw new r.Error("PubSub appears to be already registered with the global object, therefore the module has not been registered.");r[e]=i}(window,"PubSub",function(r){function e(r){var e=t(r)?b.call(r):null;return e===l.FUNCTION||e===l.GENERATOR}function n(r){return v(r)&&r.length===f&&r[a]===h&&u(r[s])&&e(r[c])}function t(r){var e=void 0===r?"undefined":_typeof(r);return!!r&&("object"===e||"function"===e)}function u(r){return("string"==typeof r||b.call(r)===l.STRING)&&r.trim().length>0}var i="2.2.4",o=-1,a=0,s=1,c=2,f=3,l={ARRAY:"[object Array]",FUNCTION:"[object Function]",GENERATOR:"[object GeneratorFunction]",STRING:"[object String]"},b=r.Object.prototype.toString,h="|>|_|85|_|8_|\\/|0|)|_|13",y=[h],v=e(r.Array.isArray)?r.Array.isArray:function(r){return b.call(r)===l.ARRAY};return function(){function t(){_classCallCheck(this,t),this._subscribers={}}return _createClass(t,[{key:"clear",value:function(){this._subscribers={}}},{key:"getVersion",value:function(){return i}},{key:"publish",value:function(e){function t(e){r.setTimeout(function(){e.apply(void 0,_toConsumableArray(o))},0)}for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;i>a;a++)o[a-1]=arguments[a];n(e)?e=[e[s]]:u(e)&&(e=[e]);var c=0;if(!v(e))return c;o.push(e.join(","));var f=!0,l=!1,b=void 0;try{for(var h,y=e[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var g=h.value;if(this._subscribers.hasOwnProperty(g)){var p=this._subscribers[g];if(p.length){var d=!0,_=!1,A=void 0;try{for(var m,w=p[Symbol.iterator]();!(d=(m=w.next()).done);d=!0){var C=m.value;t(C),c++}}catch(O){_=!0,A=O}finally{try{!d&&w["return"]&&w["return"]()}finally{if(_)throw A}}}}}}catch(O){l=!0,b=O}finally{try{!f&&y["return"]&&y["return"]()}finally{if(l)throw b}}return c}},{key:"subscribe",value:function(r,n){var t=u(r)&&e(n);if(t&&(n=[n],r=[r]),!v(r)||!v(n)||r.length!==n.length)return y;for(var i=[],a=0,s=r.length;s>a;a++){var c=r[a];if(u(c)){var f=n[a];if(e(f)){this._subscribers.hasOwnProperty(c)||(this._subscribers[c]=[]);var l=this._subscribers[c];l.indexOf(f)===o&&(l.push(f),i.push([h,c,f]))}}}return 0===i.length?t?y:[y]:t?i[0]:i}},{key:"unsubscribe",value:function(r,t){if(r===y)return!1;if(n(r)?(t=[r[c]],r=[r[s]]):u(r)&&e(t)&&(t=[t],r=[r]),!v(r)||!v(t)||r.length!==t.length)return!1;for(var i=0,a=r.length;a>i;i++)if(this._subscribers.hasOwnProperty(r[i])){var f=this._subscribers[r[i]];if(f.length){var l=f.indexOf(t[i]);l!==o&&f.splice(l,1)}}return!0}}]),t}()}(window));