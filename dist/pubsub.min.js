"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(r){return r&&r.constructor===Symbol?"symbol":typeof r}var _createClass=function(){function r(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();!function(r,e,n,t){var i=new n,u={subscribe:function(r,e){return i.subscribe(r,e)},unsubscribe:function(r,e){return i.unsubscribe(r,e)},publish:function(r){for(var e=arguments.length,n=Array(e>1?e-1:0),t=1;e>t;t++)n[t-1]=arguments[t];return i.publish.apply(i,[r].concat(n))},clear:function(){return i.clear()},getInterface:function(){return n},getVersion:function(){return i.getVersion()}},o=function(){return u},a=r.module,s=r.define;if(a!==t&&a.exports?a.exports=o:"function"==typeof s&&s.amd&&r.define(e,[],o),r[e]!==t)throw new r.Error("PubSub appears to be already registered with the global object, therefore the module has not been registered.");r[e]=u}(window,"PubSub",function(r){function e(r){var e=t(r)?l.call(r):"";return e===f.FUNCTION||e===f.GENERATOR}function n(r){return y(r)&&r.length===c&&r[o]===b&&i(r[a])&&e(r[s])}function t(r){var e=void 0===r?"undefined":_typeof(r);return!!r&&("object"===e||"function"===e)}function i(r){return("string"==typeof r||l.call(r)===f.STRING)&&r.trim().length>0}var u="2.2.3",o=0,a=1,s=2,c=3,f={ARRAY:"[object Array]",FUNCTION:"[object Function]",GENERATOR:"[object GeneratorFunction]",STRING:"[object String]"},l=r.Object.prototype.toString,b="|>|_|85|_|8_|\\/|0|)|_|13",h=[b],y=e(r.Array.isArray)?r.Array.isArray:function(r){return l.call(r)===f.ARRAY};return function(){function t(){_classCallCheck(this,t),this._subscribers={}}return _createClass(t,[{key:"clear",value:function(){this._subscribers={}}},{key:"getVersion",value:function(){return u}},{key:"publish",value:function(e){function t(e){r.setTimeout(function(){e.apply(void 0,_toConsumableArray(o))},0)}for(var u=arguments.length,o=Array(u>1?u-1:0),s=1;u>s;s++)o[s-1]=arguments[s];n(e)?e=[e[a]]:i(e)&&(e=[e]);var c=0;if(!y(e))return c;o.push(e.join(","));var f=!0,l=!1,b=void 0;try{for(var h,v=e[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var g=h.value;if(this._subscribers.hasOwnProperty(g)){var p=this._subscribers[g];if(p.length){var d=!0,_=!1,A=void 0;try{for(var m,w=p[Symbol.iterator]();!(d=(m=w.next()).done);d=!0){var C=m.value;t(C),c++}}catch(O){_=!0,A=O}finally{try{!d&&w["return"]&&w["return"]()}finally{if(_)throw A}}}}}}catch(O){l=!0,b=O}finally{try{!f&&v["return"]&&v["return"]()}finally{if(l)throw b}}return c}},{key:"subscribe",value:function(r,n){var t=i(r)&&e(n);if(t&&(n=[n],r=[r]),!y(r)||!y(n)||r.length!==n.length)return h;for(var u=[],o=0,a=r.length;a>o;o++){var s=r[o];if(i(s)){var c=n[o];if(e(c)){this._subscribers.hasOwnProperty(s)||(this._subscribers[s]=[]);var f=this._subscribers[s];-1===f.indexOf(c)&&(f.push(c),u.push([b,s,c]))}}}return 0===u.length?t?h:[h]:t?u[0]:u}},{key:"unsubscribe",value:function(r,t){if(r===h)return!1;if(n(r)?(t=[r[s]],r=[r[a]]):i(r)&&e(t)&&(t=[t],r=[r]),!y(r)||!y(t)||r.length!==t.length)return!1;for(var u=0,o=r.length;o>u;u++)if(this._subscribers.hasOwnProperty(r[u])){var c=this._subscribers[r[u]];if(c.length){var f=c.indexOf(t[u]);-1!==f&&c.splice(f,1)}}return!0}}]),t}()}(window));