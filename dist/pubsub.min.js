"use strict";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(r){return r&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r}var _createClass=function(){function r(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();!function(r,e,n,t){var i=new n,u={clear:function(){return i.clear()},getInterface:function(){return n},getVersion:function(){return i.getVersion()},publish:function(r){for(var e=arguments.length,n=Array(e>1?e-1:0),t=1;e>t;t++)n[t-1]=arguments[t];return i.publish.apply(i,[r].concat(n))},subscribe:function(r,e){return i.subscribe(r,e)},unsubscribe:function(r,e){return i.unsubscribe(r,e)}},o=function(){return u},a=r.module,s=r.define;if(a!==t&&a.exports?a.exports=o:"function"==typeof s&&s.amd&&r.define(e,[],o),r[e]!==t)throw new r.Error("PubSub appears to be already registered with the global object, therefore the module has not been registered.");r[e]=u}(window,"PubSub",function(r){function e(r){var e=t(r)?v.call(r):null;return e===b||e===h}function n(r){return d(r)&&r.length===f&&r[a]===p&&i(r[s])&&e(r[c])}function t(r){var e=void 0===r?"undefined":_typeof(r);return!!r&&("object"===e||"function"===e)}function i(r){return("string"==typeof r||v.call(r)===y)&&r.trim().length>0}var u="2.2.4",o=-1,a=0,s=1,c=2,f=3,l="[object Array]",b="[object Function]",h="[object GeneratorFunction]",y="[object String]",v=r.Object.prototype.toString,p="|>|_|85|_|8_|\\/|0|)|_|13",g=[p],d=e(r.Array.isArray)?r.Array.isArray:function(r){return v.call(r)===l};return function(){function t(){_classCallCheck(this,t),this._subscribers={}}return _createClass(t,[{key:"clear",value:function(){this._subscribers={}}},{key:"getVersion",value:function(){return u}},{key:"publish",value:function(e){function t(e){r.setTimeout(function(){e.apply(void 0,o)},0)}for(var u=arguments.length,o=Array(u>1?u-1:0),a=1;u>a;a++)o[a-1]=arguments[a];n(e)?e=[e[s]]:i(e)&&(e=[e]);var c=0;if(!d(e))return c;o.push(e.join(","));var f=!0,l=!1,b=void 0;try{for(var h,y=e[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value;if(this._subscribers.hasOwnProperty(v)){var p=this._subscribers[v];if(p.length){var g=!0,_=!1,m=void 0;try{for(var w,j=p[Symbol.iterator]();!(g=(w=j.next()).done);g=!0){var k=w.value;t(k),c++}}catch(S){_=!0,m=S}finally{try{!g&&j["return"]&&j["return"]()}finally{if(_)throw m}}}}}}catch(S){l=!0,b=S}finally{try{!f&&y["return"]&&y["return"]()}finally{if(l)throw b}}return c}},{key:"subscribe",value:function(r,n){var t=i(r)&&e(n);if(t&&(n=[n],r=[r]),!d(r)||!d(n)||r.length!==n.length)return g;for(var u=[],a=0,s=r.length;s>a;a++){var c=r[a];if(i(c)){var f=n[a];if(e(f)){this._subscribers.hasOwnProperty(c)||(this._subscribers[c]=[]);var l=this._subscribers[c];l.indexOf(f)===o&&(l.push(f),u.push([p,c,f]))}}}return 0===u.length?t?g:[g]:t?u[0]:u}},{key:"unsubscribe",value:function(r,t){if(r===g)return!1;if(n(r)?(t=[r[c]],r=[r[s]]):i(r)&&e(t)&&(t=[t],r=[r]),!d(r)||!d(t)||r.length!==t.length)return!1;for(var u=0,a=r.length;a>u;u++)if(this._subscribers.hasOwnProperty(r[u])){var f=this._subscribers[r[u]];if(f.length){var l=f.indexOf(t[u]);l!==o&&f.splice(l,1)}}return!0}}]),t}()}(window));