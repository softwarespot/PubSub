"use strict";!function(r,n){if("function"==typeof define&&define.amd)define(["exports"],n);else if("undefined"!=typeof exports)n(exports);else{var e={exports:{}};n(e.exports),r.PubSub=e.exports}}(this,function(r){function n(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function e(r){var n=w.call(r);return n===y||n===_}function t(r){return("string"==typeof r||w.call(r)===d)&&r.trim().length>0}function u(r){return x(r)&&r.length===v&&r[b]===m&&t(r[h])&&e(r[p])}function i(r){return null===r}function s(r,n){return t(r)&&n.hasOwnProperty(r)&&n[r].length>0}function c(r){return u(r)?r=[r[h]]:t(r)&&(r=[r]),x(r)?r:null}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function r(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}(),f="2.2.4",a=1,l=-1,b=0,h=1,p=2,v=3,g="[object Array]",y="[object Function]",_="[object GeneratorFunction]",d="[object String]",w=window.Object.prototype.toString,m="|>|_|85|_|8_|\\/|0|)|_|13",j=[m],x=e(window.Array.isArray)?window.Array.isArray:function(r){return w.call(r)===g},A=function(){function r(){n(this,r),this._subscribers={}}return o(r,[{key:"clear",value:function(r){var n=this;return r=c(r),i(r)?void(this._subscribers={}):void r.filter(function(r){return s(r,n._subscribers)}).forEach(function(r){var e=n._subscribers[r],t=e.length;e.splice(0,t)})}},{key:"getVersion",value:function(){return f}},{key:"publish",value:function(r){for(var n=this,e=arguments.length,t=Array(e>1?e-1:0),u=1;e>u;u++)t[u-1]=arguments[u];r=c(r);var o=0;return i(r)?o:(t.push(r.join(",")),r.filter(function(r){return s(r,n._subscribers)}).forEach(function(r){n._subscribers[r].forEach(function(r){window.setTimeout(function(){r.apply(void 0,t)},0),o++})}),o)}},{key:"subscribe",value:function(r,n){var u=this,i=t(r)&&e(n);if(i&&(n=[n],r=[r]),!x(r)||!x(n)||r.length!==n.length)return j;var c=[];return n.filter(function(n,t){return e(n)?!0:(r.splice(t,a),!1)}),r.filter(function(r,e){return t(r)&&(u._subscribers[r]||[]).indexOf(n[e])===l?!0:(n.splice(e,a),!1)}).forEach(function(r,e){s(r,u._subscribers)||(u._subscribers[r]=x(u._subscribers[r])?u._subscribers[r]:[]);var t=u._subscribers[r],i=n[e];t.push(i),c.push([m,r,i])}),0===c.length?i?j:[j]:i?c[0]:c}},{key:"unsubscribe",value:function(r,n){var i=this;return r===j?!1:(u(r)?(n=[r[p]],r=[r[h]]):t(r)&&e(n)&&(n=[n],r=[r]),x(r)&&x(n)&&r.length===n.length?(r.filter(function(r,e){return s(r,i._subscribers)?!0:(n.splice(e,a),!1)}).forEach(function(r,e){var t=i._subscribers[r],u=t.indexOf(n[e]);u!==l&&t.splice(u,a)}),!0):!1)}}]),r}(),k=new A;r.clear=function(r){return k.clear(r)},r.getInterface=function(){return A},r.getVersion=function(){return k.getVersion()},r.publish=function(r){for(var n=arguments.length,e=Array(n>1?n-1:0),t=1;n>t;t++)e[t-1]=arguments[t];return k.publish.apply(k,[r].concat(e))},r.subscribe=function(r,n){return k.subscribe(r,n)},r.unsubscribe=function(r,n){return k.unsubscribe(r,n)}});